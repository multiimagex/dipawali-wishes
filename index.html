<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÜ Happy Diwali üéÜ</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    text-align: center;
    font-family: 'Poppins', sans-serif;
    color: #fff;
    background: radial-gradient(circle at bottom, #1a001a, #000);
  }

  h1 {
    margin-top: 20px;
    font-size: 2.8em;
    text-shadow: 0 0 15px #ffd700, 0 0 30px orange;
    animation: glow 2s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from { text-shadow: 0 0 15px #ffd700, 0 0 25px orange; }
    to { text-shadow: 0 0 35px #ff9900, 0 0 50px gold; }
  }

  img {
    width: 320px;
    margin-top: 80px;
    border-radius: 20px;
    box-shadow: 0 0 40px gold;
  }

  #fromText {
    font-size: 1.6em;
    margin-top: 15px;
    text-shadow: 0 0 10px gold;
    animation: fadeIn 2s ease-in-out infinite alternate;
  }

  @keyframes fadeIn {
    from { opacity: 0.7; }
    to { opacity: 1; }
  }

  .name-box {
    margin-top: 30px;
  }

  input {
    padding: 10px;
    border: none;
    border-radius: 10px;
    width: 220px;
    font-size: 16px;
    text-align: center;
  }

  button {
    margin-left: 10px;
    padding: 10px 15px;
    border: none;
    border-radius: 10px;
    background: linear-gradient(45deg, gold, orange);
    color: #000;
    font-weight: bold;
    cursor: pointer;
  }

  button:hover {
    background: linear-gradient(45deg, orange, gold);
  }

  .share {
    margin-top: 20px;
  }

  a.share-btn {
    display: inline-block;
    margin: 5px;
    background: #25D366;
    color: #fff;
    padding: 8px 12px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
  }

  a.share-btn.fb { background: #4267B2; }
  a.share-btn.ig { background: #E1306C; }

  /* Fireworks canvas */
  canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: -1;
  }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<img src="laxmimata.gif" alt="Laxmi Mata">

<h1>üéÜ Happy Diwali üéÜ</h1>

<p id="fromText"></p>

<div class="name-box">
  <input type="text" id="senderName" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
  <button onclick="generateLink()">Link ‡§¨‡§®‡§æ‡§è‡§Ç</button>
</div>

<div id="shareSection" class="share" style="display:none;">
  <p>‡§Ö‡§™‡§®‡§æ ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç:</p>
  <input type="text" id="shareLink" readonly style="width:80%;padding:8px;border-radius:8px;">
  <br>
  <a class="share-btn" id="waShare" target="_blank">WhatsApp</a>
  <a class="share-btn fb" id="fbShare" target="_blank">Facebook</a>
  <a class="share-btn ig" id="igShare" target="_blank">Instagram</a>
</div>

<script>
  // ====== Check if link me "from" parameter hai ======
  const params = new URLSearchParams(window.location.search);
  const sender = params.get("from");
  const fromText = document.getElementById("fromText");

  if (sender) {
    // Greeting jab link open hota hai
    fromText.innerHTML = `‚ú® Happy Diwali from <b>${decodeURIComponent(sender)}</b> ‚ú®`;
  } else {
    fromText.innerHTML = "üíñ ‡§Ö‡§™‡§®‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å ‡§≠‡•á‡§ú‡•á‡§Ç üíñ";
  }

  // ====== Link Generator ======
  function generateLink() {
    const nameInput = document.getElementById("senderName").value.trim();
    if (!nameInput) {
      alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç!");
      return;
    }

    const link = `${window.location.origin}${window.location.pathname}?from=${encodeURIComponent(nameInput)}`;
    document.getElementById("shareLink").value = link;
    document.getElementById("shareSection").style.display = "block";

    // Share links
    document.getElementById("waShare").href = `https://wa.me/?text=üéÜ%20Happy%20Diwali%20from%20${encodeURIComponent(nameInput)}%20üéÜ%0A${encodeURIComponent(link)}`;
    document.getElementById("fbShare").href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`;
    document.getElementById("igShare").href = `https://www.instagram.com/?url=${encodeURIComponent(link)}`;
  }

  // ====== Fireworks animation ======
  const canvas = document.getElementById('fireworks');
  const ctx = canvas.getContext('2d');
  let fireworks = [];

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  function Firework(x, y, color) {
    this.x = x;
    this.y = y;
    this.color = color;
    this.radius = Math.random() * 3 + 2;
    this.alpha = 1;
    this.speedX = (Math.random() - 0.5) * 5;
    this.speedY = (Math.random() - 0.5) * 5;
  }

  Firework.prototype.update = function() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.alpha -= 0.02;
  };

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    fireworks = fireworks.filter(f => f.alpha > 0);
    fireworks.forEach(f => {
      f.update();
      ctx.beginPath();
      ctx.arc(f.x, f.y, f.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(${f.color},${f.alpha})`;
      ctx.fill();
    });
    requestAnimationFrame(animate);
  }

  function launch() {
    for (let i = 0; i < 25; i++) {
      fireworks.push(new Firework(
        Math.random() * canvas.width,
        Math.random() * canvas.height * 0.5,
        `${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)}`
      ));
    }
  }

  setInterval(launch, 1000);
  animate();
</script>

</body>
</html>
